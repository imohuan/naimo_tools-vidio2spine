{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://naimo.tools/schemas/plugin-manifest.json",
  "title": "Naimo Tools Plugin Manifest",
  "description": "Naimo Tools æ’ä»¶é…ç½®æ–‡ä»¶ (manifest.json) çš„ JSON Schema",
  "type": "object",
  "required": [
    "id",
    "name",
    "version",
    "preload",
    "feature",
    "enabled"
  ],
  "properties": {
    "$schema": {
      "type": "string",
      "description": "JSON Schema å¼•ç”¨è·¯å¾„"
    },
    "id": {
      "type": "string",
      "description": "æ’ä»¶å”¯ä¸€æ ‡è¯†ï¼Œå»ºè®®ä½¿ç”¨è‹±æ–‡å°å†™å­—æ¯ã€æ•°å­—ã€çŸ­æ¨ªçº¿ç»„åˆ",
      "pattern": "^[a-z0-9-]+$",
      "minLength": 1,
      "maxLength": 50,
      "examples": [
        "example-plugin",
        "ocr-trans-plugin"
      ]
    },
    "name": {
      "type": "string",
      "description": "æ’ä»¶åç§°ï¼Œå¯ä»¥ä½¿ç”¨ä¸­æ–‡",
      "minLength": 1,
      "maxLength": 50,
      "examples": [
        "ç¤ºä¾‹æ’ä»¶",
        "OCRç¿»è¯‘æ’ä»¶"
      ]
    },
    "version": {
      "type": "string",
      "description": "æ’ä»¶ç‰ˆæœ¬å·ï¼Œå»ºè®®ä½¿ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬",
      "pattern": "^\\d+\\.\\d+\\.\\d+(-[a-z0-9.-]+)?(\\+[a-z0-9.-]+)?$",
      "examples": [
        "1.0.0",
        "1.2.3-beta.1"
      ]
    },
    "author": {
      "type": "string",
      "description": "æ’ä»¶ä½œè€…",
      "maxLength": 100,
      "examples": [
        "Naimo Tools Team",
        "å¼ ä¸‰"
      ]
    },
    "icon": {
      "type": "string",
      "description": "æ’ä»¶å›¾æ ‡ï¼Œæ”¯æŒ emoji æˆ–å›¾ç‰‡è·¯å¾„",
      "examples": [
        "ğŸ¯",
        "./icon.png"
      ]
    },
    "description": {
      "type": "string",
      "description": "æ’ä»¶æè¿°",
      "maxLength": 500,
      "examples": [
        "è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹æ’ä»¶"
      ]
    },
    "category": {
      "type": "string",
      "description": "æ’ä»¶åˆ†ç±»",
      "enum": [
        "efficient_office",
        "ai_artificial_intelligence",
        "developer_essentials",
        "record_ideas",
        "image_video",
        "media_tools",
        "system_tools",
        "study_well",
        "brainstorming",
        "other"
      ],
      "examples": [
        "developer_essentials"
      ]
    },
    "downloadUrl": {
      "type": "string",
      "description": "æ’ä»¶ä¸‹è½½åœ°å€",
      "format": "uri",
      "examples": [
        "https://example.com/plugin.zip"
      ]
    },
    "main": {
      "type": "string",
      "description": "UI é¡µé¢è·¯å¾„ï¼ˆå¯é€‰ï¼Œç›¸å¯¹äºæ’ä»¶æ ¹ç›®å½•ï¼‰",
      "pattern": "^\\.\\/.*\\.(html|htm)$",
      "examples": [
        "./index.html",
        "./ui/main.html"
      ]
    },
    "preload": {
      "type": "string",
      "description": "Preload è„šæœ¬è·¯å¾„ï¼ˆå¿…å¡«ï¼Œç›¸å¯¹äºæ’ä»¶æ ¹ç›®å½•ï¼‰",
      "pattern": "^\\.\\/.*\\.js$",
      "examples": [
        "./preload.js",
        "./scripts/preload.js"
      ]
    },
    "feature": {
      "type": "array",
      "description": "åŠŸèƒ½åˆ—è¡¨ï¼Œå®šä¹‰æ’ä»¶æä¾›çš„æ‰€æœ‰åŠŸèƒ½",
      "minItems": 1,
      "items": {
        "$ref": "#/definitions/feature"
      }
    },
    "options": {
      "type": "object",
      "description": "æ’ä»¶é…ç½®é€‰é¡¹ï¼ˆè‡ªå®šä¹‰é”®å€¼å¯¹ï¼‰",
      "additionalProperties": true
    },
    "settings": {
      "type": "array",
      "description": "æ’ä»¶è®¾ç½®é…ç½®",
      "items": {
        "$ref": "#/definitions/setting"
      }
    },
    "enabled": {
      "type": "boolean",
      "description": "æ˜¯å¦å¯ç”¨æ’ä»¶",
      "default": true
    }
  },
  "additionalProperties": false,
  "definitions": {
    "feature": {
      "type": "object",
      "description": "æ’ä»¶åŠŸèƒ½é¡¹é…ç½®",
      "required": [
        "path",
        "name",
        "type"
      ],
      "properties": {
        "path": {
          "type": "string",
          "description": "åŠŸèƒ½æ ‡è¯†ï¼ˆè‹±æ–‡ï¼Œä¸å¸¦æ’ä»¶IDå‰ç¼€ï¼‰",
          "pattern": "^[a-z0-9-]+$",
          "examples": [
            "hello-world",
            "text-processor"
          ]
        },
        "name": {
          "type": "string",
          "description": "åŠŸèƒ½åç§°",
          "minLength": 1,
          "maxLength": 50,
          "examples": [
            "Hello World",
            "æ–‡æœ¬å¤„ç†å™¨"
          ]
        },
        "type": {
          "type": "string",
          "description": "åŠŸèƒ½ç±»å‹ï¼Œå†³å®šåŠŸèƒ½çš„æœç´¢åŒ¹é…è¡Œä¸º",
          "enum": [
            "text",
            "regex",
            "img",
            "files"
          ],
          "examples": [
            "text"
          ]
        },
        "icon": {
          "type": "string",
          "description": "åŠŸèƒ½å›¾æ ‡",
          "examples": [
            "ğŸ‘‹",
            "./icons/hello.png"
          ]
        },
        "description": {
          "type": "string",
          "description": "åŠŸèƒ½æè¿°",
          "maxLength": 200,
          "examples": [
            "æœ€ç®€å•çš„ç¤ºä¾‹åŠŸèƒ½"
          ]
        },
        "weight": {
          "type": "number",
          "description": "æ’åºæƒé‡ï¼Œæ•°å€¼è¶Šå¤§è¶Šé å‰",
          "minimum": 0,
          "maximum": 1000,
          "default": 0,
          "examples": [
            100
          ]
        },
        "category": {
          "type": "string",
          "description": "åŠŸèƒ½åˆ†ç±»",
          "examples": [
            "å·¥å…·"
          ]
        },
        "platform": {
          "type": "array",
          "description": "æ”¯æŒçš„å¹³å°",
          "items": {
            "type": "string",
            "enum": [
              "windows",
              "macos",
              "linux"
            ]
          },
          "examples": [
            [
              "windows",
              "macos"
            ]
          ]
        },
        "anonymousSearchFields": {
          "type": "array",
          "description": "åŒ¿åæœç´¢å­—æ®µåˆ—è¡¨ï¼ˆç”¨äºæœç´¢åŒ¹é…ï¼‰",
          "items": {
            "type": "string"
          },
          "examples": [
            [
              "hello",
              "world",
              "ç¤ºä¾‹"
            ]
          ]
        },
        "notVisibleSearch": {
          "type": "boolean",
          "description": "ä¸åœ¨æœç´¢æ¡†ä¸­ä¸»åŠ¨æ˜¾ç¤º",
          "default": false
        },
        "showInModes": {
          "type": "array",
          "description": "æ˜¾ç¤ºæ¨¡å¼ï¼ˆä»…åœ¨æŒ‡å®šæ¨¡å¼ä¸‹æ˜¾ç¤ºï¼‰",
          "items": {
            "type": "string",
            "enum": [
              "attachment",
              "text",
              "img"
            ]
          },
          "examples": [
            [
              "attachment"
            ]
          ]
        },
        "lifecycleType": {
          "type": "string",
          "description": "ç”Ÿå‘½å‘¨æœŸç±»å‹",
          "enum": [
            "new",
            "reuse",
            "singleton"
          ],
          "default": "reuse",
          "examples": [
            "reuse"
          ]
        },
        "singleton": {
          "type": "boolean",
          "description": "æ˜¯å¦å•ä¾‹æ¨¡å¼ï¼ˆåŒæ—¶åªèƒ½æ‰“å¼€ä¸€ä¸ªçª—å£ï¼‰",
          "default": true
        },
        "autoStart": {
          "type": "boolean",
          "description": "æ˜¯å¦å¼€æœºå¯åŠ¨",
          "default": false
        },
        "recommend": {
          "type": "boolean",
          "description": "æ˜¯å¦æ¨è",
          "default": false
        },
        "match": {
          "type": "string",
          "description": "æ­£åˆ™åŒ¹é…è¡¨è¾¾å¼ï¼ˆä»…å½“ type ä¸º regex æˆ– files æ—¶æœ‰æ•ˆï¼‰",
          "examples": [
            "^https?://"
          ]
        },
        "exclude": {
          "type": "string",
          "description": "æ’é™¤æ¡ä»¶ï¼ˆä»…å½“ type ä¸º regex æ—¶æœ‰æ•ˆï¼‰",
          "examples": [
            "^file://"
          ]
        },
        "minLength": {
          "type": "number",
          "description": "æœ€å°é•¿åº¦é™åˆ¶",
          "minimum": 0,
          "examples": [
            1
          ]
        },
        "maxLength": {
          "type": "number",
          "description": "æœ€å¤§é•¿åº¦é™åˆ¶",
          "minimum": 0,
          "examples": [
            100
          ]
        },
        "fileType": {
          "type": "string",
          "description": "æ–‡ä»¶ç±»å‹ï¼ˆä»…å½“ type ä¸º files æ—¶æœ‰æ•ˆï¼‰",
          "enum": [
            "file",
            "directory"
          ],
          "examples": [
            "file"
          ]
        },
        "extensions": {
          "type": "array",
          "description": "æ–‡ä»¶æ‰©å±•ååˆ—è¡¨ï¼ˆä»…å½“ type ä¸º files æ—¶æœ‰æ•ˆï¼‰",
          "items": {
            "type": "string",
            "pattern": "^\\.[a-z0-9]+$"
          },
          "examples": [
            [
              ".jpg",
              ".png",
              ".gif"
            ]
          ]
        }
      },
      "additionalProperties": false
    },
    "setting": {
      "type": "object",
      "description": "æ’ä»¶è®¾ç½®é¡¹é…ç½®",
      "required": [
        "name",
        "title",
        "type"
      ],
      "properties": {
        "name": {
          "type": "string",
          "description": "è®¾ç½®é¡¹åç§°ï¼ˆè‹±æ–‡ï¼Œä½œä¸ºå­˜å‚¨çš„é”®ï¼‰",
          "pattern": "^[a-zA-Z][a-zA-Z0-9_]*$",
          "examples": [
            "apiKey",
            "enableNotification"
          ]
        },
        "title": {
          "type": "string",
          "description": "è®¾ç½®é¡¹æ ‡é¢˜ï¼ˆæ˜¾ç¤ºç»™ç”¨æˆ·ï¼‰",
          "minLength": 1,
          "maxLength": 50,
          "examples": [
            "API å¯†é’¥",
            "å¯ç”¨é€šçŸ¥"
          ]
        },
        "description": {
          "type": "string",
          "description": "è®¾ç½®é¡¹æè¿°",
          "maxLength": 200,
          "examples": [
            "è¯·è¾“å…¥ä½ çš„ API å¯†é’¥"
          ]
        },
        "type": {
          "type": "string",
          "description": "è®¾ç½®é¡¹ç±»å‹",
          "enum": [
            "input",
            "switch",
            "select",
            "textarea",
            "number"
          ],
          "examples": [
            "input"
          ]
        },
        "defaultValue": {
          "description": "é»˜è®¤å€¼ï¼ˆç±»å‹æ ¹æ® type å­—æ®µå†³å®šï¼‰",
          "examples": [
            "",
            true,
            0
          ]
        },
        "required": {
          "type": "boolean",
          "description": "æ˜¯å¦å¿…å¡«",
          "default": false
        },
        "option": {
          "type": "object",
          "description": "é€‰é¡¹é…ç½®ï¼ˆä»…å½“ type ä¸º select æ—¶æœ‰æ•ˆï¼‰",
          "properties": {
            "options": {
              "type": "array",
              "description": "é€‰é¡¹åˆ—è¡¨",
              "items": {
                "type": "object",
                "required": [
                  "label",
                  "value"
                ],
                "properties": {
                  "label": {
                    "type": "string",
                    "description": "é€‰é¡¹æ˜¾ç¤ºæ–‡æœ¬"
                  },
                  "value": {
                    "description": "é€‰é¡¹å€¼"
                  }
                }
              }
            }
          }
        },
        "placeholder": {
          "type": "string",
          "description": "å ä½ç¬¦æ–‡æœ¬",
          "examples": [
            "è¯·è¾“å…¥..."
          ]
        },
        "min": {
          "type": "number",
          "description": "æœ€å°å€¼ï¼ˆä»…å½“ type ä¸º number æ—¶æœ‰æ•ˆï¼‰"
        },
        "max": {
          "type": "number",
          "description": "æœ€å¤§å€¼ï¼ˆä»…å½“ type ä¸º number æ—¶æœ‰æ•ˆï¼‰"
        },
        "step": {
          "type": "number",
          "description": "æ­¥è¿›å€¼ï¼ˆä»…å½“ type ä¸º number æ—¶æœ‰æ•ˆï¼‰",
          "examples": [
            1,
            0.1
          ]
        }
      },
      "additionalProperties": false
    }
  }
}